monitor=,2560x1600@165,auto,1.5

exec-once=waybar
#Notification 
exec-once=mako
# For screen sharing 
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# For keyboard 
exec-once=fcitx5 --replace -d
# For lockscreen
exec-once=swayidle -w timeout 50000 'gtklock'
# Start Page
#exec-once=~/.config/hypr/scripts/startpage.sh
# Bluetooth
exec-once=blueman-applet # Make sure you have installed blueman

# Screen Sharing 
exec-once=systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=~/.config/hypr/scripts/screensharing.sh


exec-once=systemctl --user start xsettingsd.servic

exec-once=/usr/lib/polkit-kde-authentication-agent-1

exec-once = udiskie &

exec-once=numlockx

# exec-once=bash ~/.config/hypr/scripts/change_wallpaper.sh
# exec-once=swaybg -m fill -i ~/Pictures/wallpaper/wallhaven-qzl3jq.png
exec-once=~/.config/hypr/scripts/swww.sh

#------------------#
# change monitor to hires, the last argument is the scale factor
# sets xwayland scal
exec-once=xprop -root -f _XWAYLAND_GLOBAL_OUTPUT_SCALE 32c -set _XWAYLAND_GLOBAL_OUTPUT_SCALE 2
# toolkit-specific scale
env = GDK_SCALE,1
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct
exec-once = echo "Xft.dpi: 196" | xrdb -merge
#------------------#
exec-once=xrdb ~/.Xresources  
input {
  kb_layout=us
  kb_variant=
  kb_model=
  kb_rules=
  # Remap Capslock -> Esc for Vim users  
  kb_options=caps:escape 
  repeat_rate=50
  repeat_delay=240
  follow_mouse = 1

  touchpad {
    disable_while_typing=1
    natural_scroll=1
    clickfinger_behavior=1
    middle_button_emulation=0
    tap-to-click=1
  }
}

gestures { 
  workspace_swipe=true 
  workspace_swipe_min_speed_to_force=5
}

general {
     layout=dwindle
     sensitivity=0.35 # for mouse cursor
     #sensitivity=0.68# for mouse cursor
     gaps_in=5
     gaps_out=18
     border_size=2
     #blue
     # col.inactive_border=0x66333333
     # col.active_border=0xff5e81ac
     #pink 
     # col.active_border = rgba(e5b9c6ff) rgba(c293a3ff) 45deg
     # col.inactive_border = 0xff382D2E
     
     #s-blue
     col.active_border = rgba(cceeffbb)      # 活动窗口的边框颜色 
     col.inactive_border = rgba(595959aa)    # 非活动窗口的边框颜色
     apply_sens_to_raw=0 # whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)
}
###########################
# decoration {
#     rounding=18
#     blur=1
#     blur_size=1 # minimum 1
#     blur_passes=5 # minimum 1, more passes = more resource intensive.
#     blur_new_optimizations = true   
#     # Your blur "amount" is blur_size * blur_passes, but high blur_size (over around 5-ish) will produce artifacts.
#     # if you want heavy blur, you need to up the blur_passes.
#     # the more passes, the more you can up the blur_size without noticing artifacts.
#     drop_shadow=true
#     shadow_range=15
#     col.shadow=0xffa7caff
#     col.shadow_inactive=0x50000000
# }
############################
decoration {

  rounding = 18
  multisample_edges = true
  active_opacity = 1.0
  inactive_opacity = 1.0
  blur = true
  blur_size = 6
  blur_passes = 3
  blur_new_optimizations = true
  blur_xray = true
  blur_ignore_opacity = true

  drop_shadow = false
  shadow_ignore_window = true
  shadow_offset = 1 2
  shadow_range = 10
  shadow_render_power = 5
  col.shadow = 0x66404040

  blurls = gtk-layer-shell
  
  # Blur for waybar 
  blurls=waybar
  blurls=lockscreen
}

animations {
    enabled = true
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 6, wind, slide
    animation = windowsIn, 1, 6, winIn, slide
    animation = windowsOut, 1, 5, winOut, slide
    animation = windowsMove, 1, 5, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 10, default
    animation = workspaces, 1, 5, wind
}
dwindle {
  no_gaps_when_only = false
  pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # you probably want this
}

master {
  new_on_top=true
  no_gaps_when_only = true
}

misc {
  disable_hyprland_logo=true
  disable_splash_rendering=true
  mouse_move_enables_dpms=true
  vfr = false
}


# Float Necessary Windows
windowrule=float,Rofi
windowrule=float,fuzzel
windowrule=float,nmtui
windowrule=float,pavucontrol
windowrulev2 = float,class:^()$,title:^(Picture in picture)$
windowrulev2 = float,class:^(brave)$,title:^(Save File)$
windowrulev2 = float,class:^(brave)$,title:^(Open File)$
windowrulev2 = float,class:^(LibreWolf)$,title:^(Picture-in-Picture)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(org.twosheds.iwgtk)$
windowrulev2 = float,class:^(blueberry.py)$
windowrulev2 = float,class:^(xdg-desktop-portal-gtk)$
windowrulev2 = float,class:^(geeqie)$

# Increase the opacity 
windowrule=opacity 0.88,kitty
windowrule=opacity 0.92,Thunar
windowrule=opacity 0.96,discord
windowrule=opacity 0.9,VSCodium
windowrule=opacity 0.88,obsidian
windowrule=opacity 0.5,dunst
windowrule=opacity 0.5,mako
windowrule = noblur,^(jetbrains-clion)$ 
windowrule = noblur,^(jetbrains-goland)$ 
windowrule = noblur,^(jetbrains-idea)$ 

^.*nvim.*$
windowrule=tile,librewolf
windowrule=tile,spotify
windowrule=opacity 0.88,neovim
windowrule=opacity 0.5,nvim
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow


# example binds
#bind=SUPER,Q,killactive
bind=SUPER,B,exec,librewolf
bind=SUPER,F,fullscreen,1
bind=SUPERSHIFT,F,fullscreen,0
bind=SUPER,RETURN,exec,kitty
bind=SUPER,C,killactive,
# bind=SUPERSHIFT,Q,exit,
bind=SUPER,E,exec,pcmanfm

bind=CTRL,space,exec, rofi -show drun
bind=ALT,space,exec,fuzzel
#bind = ALT,space, exec, tofi-drun | xargs hyprctl dispatch exec --
bind=SUPER,P,pseudo,
bind=SUPER,ESCAPE,exec,sudo systemctl suspend

bind=,XF86AudioMute,exec,~/.config/hypr/scripts/volume mute
bind=,XF86AudioLowerVolume,exec,~/.config/hypr/scripts/volume down
bind=,XF86AudioRaiseVolume,exec,~/.config/hypr/scripts/volume up
bind=,XF86AudioMicMute,exec,pactl set-source-mute @DEFAULT_SOURCE@ toggle

bindle=,XF86MonBrightnessUp,exec,~/.config/hypr/scripts/brightness up  # increase screen brightness
bindle=,XF86MonBrightnessDown,exec,~/.config/hypr/scripts/brightness down # decrease screen brightnes
bind=SUPERSHIFT,P,exec,bash ~/.config/hypr/scripts/hyprPicker.sh
#bind=SUPERSHIFT,E,exec,wlogout
bind = SUPER, T, togglefloating,
# bind=SUPERSHIFT,P,exec,pomotroid --in-process-gpu

# Screen shot 
bind=SUPERSHIFT,S,exec,grim -g "$(slurp)" - | swappy -f -
# Screen recorder
bind=SUPER,R,exec,wf-recorder -g "$(slurp)"
# Emoji selector 
bind=SUPER,E,exec,rofi -modi emoji -show emoji

bind=SUPERSHIFT,RETURN,layoutmsg,swapwithmaster

bind=SUPER,j,layoutmsg,cyclenext
bind=SUPER,k,layoutmsg,cycleprev

bind=SUPER,j,movefocus,d
bind=SUPER,k,movefocus,u

bind=SUPER,h,movefocus,l
bind=SUPER,l,movefocus,r

bind=SUPER,left,resizeactive,-40 0
bind=SUPER,right,resizeactive,40 0

bind=SUPER,up,resizeactive,0 -40
bind=SUPER,down,resizeactive,0 40

bind=SUPERSHIFT,h,movewindow,l
bind=SUPERSHIFT,l,movewindow,r
bind=SUPERSHIFT,k,movewindow,u
bind=SUPERSHIFT,j,movewindow,d

bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10


bind=ALTSHIFT,1,movetoworkspacesilent,1
bind=ALTSHIFT,2,movetoworkspacesilent,2
bind=ALTSHIFT,3,movetoworkspacesilent,3
bind=ALTSHIFT,4,movetoworkspacesilent,4
bind=ALTSHIFT,5,movetoworkspacesilent,5
bind=ALTSHIFT,6,movetoworkspacesilent,6
bind=ALTSHIFT,7,movetoworkspacesilent,7
bind=ALTSHIFT,8,movetoworkspacesilent,8
bind=ALTSHIFT,9,movetoworkspacesilent,9
bind=ALTSHIFT,0,movetoworkspacesilent,10

bind=ALT,Q,workspace,e-1
bind=ALT,E,workspace,e+1

bind=SUPER,Escape,exec,gtklock
